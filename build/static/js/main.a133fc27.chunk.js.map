{"version":3,"sources":["components/Note.js","components/Notification.js","components/Togglable.js","components/LoginForm.js","components/NoteForm.js","services/notes.js","services/login.js","App.js","index.js"],"names":["Note","_ref","note","toggleImportance","removeNote","label","important","react_default","a","createElement","className","day","onClick","time","content","Notification","message","Togglable","React","forwardRef","props","ref","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","buttonLabel","children","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","type","daysArray","NoteForm","handleDayChange","handleTimeChange","handleContentChange","map","weekday","token","services_notes","getAll","axios","get","then","response","data","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","put","concat","id","setToken","newToken","remove","console","log","delete","services_login","login","credentials","App","notes","setNotes","_useState3","_useState4","showAll","setShowAll","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","setUsername","_useState9","_useState10","setPassword","_useState11","_useState12","setTime","_useState13","_useState14","setDay","_useState15","_useState16","setContent","_useState17","_useState18","user","setUser","useEffect","noteService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","notesToShow","filter","addNote","event","preventDefault","noteObject","date","Date","toISOString","Math","random","returnedNote","handleNoteChange","rows","components_Note","key","find","n","changedNote","objectSpread","catch","error","alert","toggleImportanceOf","getCurrentDay","dayInt","getDay","handleLogin","_ref3","_user2","loginService","setItem","stringify","t0","setTimeout","noteFormRef","createRef","logOut","_ref7","_callee2","_context2","clear","location","reload","_x2","today","firstDayOfYear","getFullYear","pastDaysOfYear","ceil","getNumberOfWeek","components_Notification","components_Togglable","components_LoginForm","target","_ref2","name","components_NoteForm","_ref4","_ref5","_ref6","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a133fc27.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ note, toggleImportance, removeNote }) => {\n  const label = note.important ? 'imp-btn makeUnimportant' : 'imp-btn makeImportant';\n\n  return (\n    <li className={note.day}><button onClick={removeNote} className=\"remove-btn\"></button><button onClick={toggleImportance} className={label}></button>{note.time} {note.content}</li>\n  )\n}\n\nexport default Note","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useImperativeHandle } from 'react' \n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>\n          {props.buttonLabel}\n        </button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )  \n})\n\nexport default Togglable","import React from 'react' \n\nconst LoginForm = ({\n   handleSubmit,\n   handleUsernameChange,\n   handlePasswordChange,\n   username, \n   password \n  }) => {\n  return (\n    <div className=\"loginForm\">\n      <h2>Kirjaudu</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Username\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n        <div>\n          Password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n      </div>\n        <button type=\"submit\">Log in</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm","import React from 'react' \n\nconst daysArray = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'TODO']\n\nconst NoteForm = ({ \n  onSubmit,\n  handleDayChange,\n  handleTimeChange,\n  handleContentChange,\n  day,\n  time,\n  content\n}) => {\n  return (\n    <div className=\"createNew\">\n      <h2>Create new note</h2>\n\n      <form onSubmit={onSubmit}>\n        <div className=\"note-container\">\n          <label>Day</label>\n          <select value={day} onChange={handleDayChange}>\n            { daysArray.map(weekday => \n              <option value={weekday}>{weekday}</option>\n            )}\n          </select>\n        </div>\n        <div className=\"note-container\">\n          <label>Time</label>\n          <select value={time} onChange={handleTimeChange}>\n            <option value=\"8:00\">8:00</option>\n            <option value=\"9:00\">9:00</option>\n            <option value=\"10:00\">10:00</option>\n            <option value=\"11:00\">11:00</option>\n            <option value=\"12:00\">12:00</option>\n            <option value=\"13:00\">13:00</option>\n            <option value=\"14:00\">14:00</option>\n            <option value=\"15:00\">15:00</option>\n            <option value=\"16:00\">16:00</option>\n            <option value=\"17:00\">17:00</option>\n            <option value=\"18:00\">18:00</option>\n            <option value=\"19:00\">19:00</option>\n            <option value=\"20:00\">20:00</option>\n            <option value=\"21:00\">21:00</option>\n          </select>\n        </div>\n        <div className=\"note-container\">\n          <label>Content</label>\n          <input\n            value={content}\n            onChange={handleContentChange}\n          />\n        </div>\n        <button type=\"submit\" className=\"submit-btn\"></button>\n      </form>\n    </div>\n  )\n}\n\nexport default NoteForm","import axios from 'axios'\nconst baseUrl = '/api/notes'\n\nlet token = null\n\n/* The actual commands to the API */\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n};\n\nconst update = (newObject) => {\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (note) => {\n  console.log('deleted')\n  const request = axios.delete(`${baseUrl}/${note.id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken, remove }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n};\n\nexport default { login }\n","import React, { useState, useEffect } from 'react' \nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport Togglable from './components/Togglable'\nimport LoginForm from './components/LoginForm'\nimport NoteForm from './components/NoteForm'\nimport noteService from './services/notes'\nimport loginService from './services/login' \n\nconst daysArray = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'TODO']\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [time, setTime] = useState('')\n  const [day, setDay] = useState('')\n  const [content, setContent] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    noteService\n      .getAll().then(initialNotes => {\n        setNotes(initialNotes)\n      })\n  }, [])\n\n  // effect hook returns the user's logged in state from local storage\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      noteService.setToken(user.token)\n    }\n  }, [])\n\n  const toggleImportanceOf = id => {\n    const note = notes.find(n => n.id === id)\n    const changedNote = { ...note, important: !note.important }\n\n    noteService\n      .update(changedNote).then(returnedNote => {\n        setNotes(notes.map(note => note.id !== id ? note : returnedNote))\n      })\n      .catch(error => {\n        alert(\n          `note: '${note.content}' has already been removed from the database`\n        );\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  const removeNote = id => {\n    const note = notes.find(n => n.id === id)\n\n    noteService\n      .remove(note).then(returnedNote => {\n        setNotes(notes.filter(n => n.id !== id))\n      })\n      .catch(error => {\n        alert(\n          `note: '${note.content}' has already been removed from the database`\n        );\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  const notesToShow = showAll\n    ? notes\n    : notes.filter(note => note.important)\n\n  const addNote = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      time: time,\n      day: day,\n      content: content,\n      date: new Date().toISOString(),\n      important: Math.random() > 0.5\n    }\n\n    console.log(noteObject);\n    noteService\n      .create(noteObject).then(returnedNote => {\n        setNotes(notes.concat(returnedNote))\n      })\n  }\n\n  const handleNoteChange = (event) => {\n    setDay('')\n    setTime('')\n    setContent('')\n  }\n\n  const rows = (weekday) => notesToShow.map(note =>\n    weekday === note.day ?\n    <Note\n      key={note.id}\n      note={note}\n      toggleImportance={() => toggleImportanceOf(note.id)}\n      removeNote={() => removeNote(note.id)}\n    />\n    : console.log(weekday)\n  )\n\n  const getCurrentDay = (weekday) => {\n    /* Select and mark the current day */\n    const d = new Date();\n    const dayInt = d.getDay() - 1;\n    const currDay = daysArray[dayInt];\n    const selectCurrDay = weekday === currDay ? 'today' : '';\n    return selectCurrDay;\n  }\n\n  const days = () => (\n    daysArray.map (weekday =>\n      <div className=\"day-container\" key={weekday}>\n        <h2 className={getCurrentDay(weekday)}>{weekday}</h2>\n        <ul>\n          {rows(weekday)}\n        </ul>\n      </div>\n    )\n  )\n  \n\n  const loginForm = () => {\n    return (\n      <Togglable buttonLabel='Log in'>\n        <LoginForm\n          username={username}\n          password={password}\n          handleUsernameChange={({ target }) => setUsername(target.value)}\n          handlePasswordChange={({ target }) => setPassword(target.value)}\n          handleSubmit={handleLogin}\n        />\n      </Togglable>\n    )\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedAppUser', JSON.stringify(user)\n      ) \n\n      noteService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('käyttäjätunnus tai salasana virheellinen')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  /* React's ref-mechanism can collect data of the component's \"state\" */\n  const noteFormRef = React.createRef()\n\n  const noteForm = () => (\n    /* Toggle the note creation form */\n    <Togglable buttonLabel=\"Add note\" ref={noteFormRef}>\n      <NoteForm\n        onSubmit={addNote}\n        time={time}\n        day={day}\n        content={content}\n        handleTimeChange={({ target }) => setTime(target.value)}\n        handleDayChange={({ target }) => setDay(target.value)}\n        handleContentChange={({ target }) => setContent(target.value)}\n        handleSubmit={handleNoteChange}\n      />\n    </Togglable>\n  )\n\n  const logOut = async (event) => {\n    /* Log out and refresh */\n    event.preventDefault();\n    window.localStorage.clear();\n    window.location.reload();\n  }\n\n  // Returns the ISO week of the date.\n  const getNumberOfWeek = () => {\n    const today = new Date();\n    const firstDayOfYear = new Date(today.getFullYear(), 0, 1);\n    const pastDaysOfYear = (today - firstDayOfYear) / 86400000;\n    return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);\n  }\n\n\n  return (\n    <div>\n      \n      <h1>Bullet journal week {getNumberOfWeek()}</h1>\n\n      <Notification message={errorMessage} />\n\n      {user === null ?\n        <div className=\"login-container\">{loginForm()}</div> :\n        <div>\n          <div className=\"menu\">\n            <p>{user.name} is logged in</p>\n            <button onClick={logOut}>Log Out</button>\n          </div>\n            {noteForm()}\n          <div>\n            <button onClick={() => setShowAll(!showAll)}>\n              Show {showAll ? 'only events' : 'all'}\n            </button>\n          </div>\n          <div className=\"days-container\">\n          {days()}\n          </div>\n        </div>\n      }\n      \n     \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}