{"version":3,"sources":["components/Note.js","components/Notification.js","components/Togglable.js","components/LoginForm.js","components/NoteForm.js","services/notes.js","services/login.js","App.js","index.js"],"names":["Note","_ref","note","toggleImportance","removeNote","label","important","react_default","a","createElement","className","day","data-time","time","onClick","content","Notification","message","Togglable","React","forwardRef","props","ref","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","buttonLabel","children","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","type","daysArray","NoteForm","handleDayChange","handleTimeChange","handleContentChange","map","weekday","key","token","services_notes","getAll","axios","get","then","response","data","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","put","concat","id","setToken","newToken","remove","console","log","delete","services_login","login","credentials","App","notes","setNotes","_useState3","_useState4","showAll","setShowAll","_useState5","_useState6","errorMessage","setErrorMessage","_useState7","_useState8","setUsername","_useState9","_useState10","setPassword","_useState11","_useState12","setTime","_useState13","_useState14","setDay","_useState15","_useState16","setContent","_useState17","_useState18","user","setUser","useEffect","noteService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","sortedNotes","filter","sort","b","parseInt","addNote","event","preventDefault","noteObject","date","Date","toISOString","Math","random","returnedNote","handleNoteChange","rows","components_Note","find","n","changedNote","objectSpread","catch","error","alert","toggleImportanceOf","getCurrentDay","dayInt","getDay","handleLogin","_ref3","_user2","loginService","setItem","stringify","t0","setTimeout","noteFormRef","createRef","logOut","_ref7","_callee2","_context2","clear","location","reload","_x2","today","firstDayOfYear","getFullYear","pastDaysOfYear","ceil","getNumberOfWeek","components_Notification","components_Togglable","components_LoginForm","target","_ref2","name","components_NoteForm","_ref4","_ref5","_ref6","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bba61752.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ note, toggleImportance, removeNote }) => {\n  const label = note.important ? 'imp-btn makeUnimportant' : 'imp-btn makeImportant';\n\n  return (\n    <li className={note.day} data-time={note.time}>\n      <button onClick={removeNote} className=\"remove-btn\"></button>\n      <button onClick={toggleImportance} className={label}></button>\n      {note.time}  {note.content}\n    </li>\n  )\n}\n\nexport default Note","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useImperativeHandle } from 'react' \n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>\n          {props.buttonLabel}\n        </button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )  \n})\n\nexport default Togglable","import React from 'react' \n\nconst LoginForm = ({\n   handleSubmit,\n   handleUsernameChange,\n   handlePasswordChange,\n   username, \n   password \n  }) => {\n  return (\n    <div className=\"loginForm\">\n      <h2>Kirjaudu</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Username\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n        <div>\n          Password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n      </div>\n        <button type=\"submit\">Log in</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm","import React from 'react' \n\nconst daysArray = ['---', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'TODO']\n\nconst NoteForm = ({ \n  onSubmit,\n  handleDayChange,\n  handleTimeChange,\n  handleContentChange,\n  day,\n  time,\n  content\n}) => {\n  return (\n    <div className=\"createNew\">\n      <h2>Create new note</h2>\n\n      <form onSubmit={onSubmit}>\n        <div className=\"note-container\">\n          <label>Day</label>\n          <select value={day} onChange={handleDayChange}>\n            { daysArray.map(weekday => \n              <option value={weekday} key={weekday}>{weekday}</option>\n            )}\n          </select>\n        </div>\n        <div className=\"note-container\">\n          <label>Time</label>\n          <select value={time} onChange={handleTimeChange}>\n            <option value=\"---\">---</option>\n            <option value=\"08:00\">08:00</option>\n            <option value=\"09:00\">09:00</option>\n            <option value=\"10:00\">10:00</option>\n            <option value=\"11:00\">11:00</option>\n            <option value=\"12:00\">12:00</option>\n            <option value=\"13:00\">13:00</option>\n            <option value=\"14:00\">14:00</option>\n            <option value=\"15:00\">15:00</option>\n            <option value=\"16:00\">16:00</option>\n            <option value=\"17:00\">17:00</option>\n            <option value=\"18:00\">18:00</option>\n            <option value=\"19:00\">19:00</option>\n            <option value=\"20:00\">20:00</option>\n            <option value=\"21:00\">21:00</option>\n          </select>\n        </div>\n        <div className=\"note-container\">\n          <label>Content</label>\n          <input\n            value={content}\n            onChange={handleContentChange}\n          />\n        </div>\n        <button type=\"submit\" className=\"submit-btn\"></button>\n      </form>\n    </div>\n  )\n}\n\nexport default NoteForm","import axios from 'axios'\nconst baseUrl = '/api/notes'\n\nlet token = null\n\n/* The actual commands to the API */\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n};\n\nconst update = (newObject) => {\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (note) => {\n  console.log('deleted')\n  const request = axios.delete(`${baseUrl}/${note.id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken, remove }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n};\n\nexport default { login }\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport Togglable from './components/Togglable'\nimport LoginForm from './components/LoginForm'\nimport NoteForm from './components/NoteForm'\nimport noteService from './services/notes'\nimport loginService from './services/login' \n\nconst daysArray = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'TODO']\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [time, setTime] = useState('')\n  const [day, setDay] = useState('')\n  const [content, setContent] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    noteService\n      .getAll().then(initialNotes => {\n        setNotes(initialNotes)\n      })\n  }, [])\n\n  // effect hook returns the user's logged in state from local storage\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      noteService.setToken(user.token)\n    }\n  }, [])\n\n  const toggleImportanceOf = id => {\n    const note = notes.find(n => n.id === id)\n    const changedNote = { ...note, important: !note.important }\n\n    noteService\n      .update(changedNote).then(returnedNote => {\n        setNotes(notes.map(note => note.id !== id ? note : returnedNote))\n      })\n      .catch(error => {\n        alert(\n          `note: '${note.content}' has already been removed from the database`\n        );\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  const removeNote = id => {\n    const note = notes.find(n => n.id === id)\n\n    noteService\n      .remove(note).then(returnedNote => {\n        setNotes(notes.filter(n => n.id !== id))\n      })\n      .catch(error => {\n        alert(\n          `note: '${note.content}' has already been removed from the database`\n        );\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  const notesToShow = showAll\n    ? notes\n    : notes.filter(note => note.important)\n\n  const sortedNotes = notesToShow.sort(function (a, b) {\n    return parseInt(a.time) - parseInt(b.time);\n  });\n\n  const addNote = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      time: time,\n      day: day,\n      content: content,\n      date: new Date().toISOString(),\n      important: Math.random() > 0.5\n    }\n\n    console.log(noteObject);\n    noteService\n      .create(noteObject).then(returnedNote => {\n        setNotes(notes.concat(returnedNote))\n      })\n  }\n\n  const handleNoteChange = (event) => {\n    setDay('')\n    setTime('')\n    setContent('')\n  }\n\n  const rows = (weekday) => {\n    console.log(sortedNotes);\n\n    return sortedNotes.map(note =>\n      weekday === note.day ?\n      <Note\n        key={note.id}\n        note={note}\n        toggleImportance={() => toggleImportanceOf(note.id)}\n        removeNote={() => removeNote(note.id)}\n      />\n      : console.log('')\n    )\n  }\n\n  const getCurrentDay = (weekday) => {\n    /* Select and mark the current day */\n    const d = new Date();\n    const dayInt = d.getDay() - 1;\n    const currDay = daysArray[dayInt];\n    const selectCurrDay = weekday === currDay ? 'today' : '';\n    return selectCurrDay;\n  }\n\n  const days = () => (\n    daysArray.map (weekday =>\n      <div className=\"day-container\" key={weekday}>\n        <h2 className={getCurrentDay(weekday)}>{weekday}</h2>\n        <ul id={weekday}>\n          {rows(weekday)}\n        </ul>\n      </div>\n    )\n  )\n  \n  const loginForm = () => {\n    return (\n      <Togglable buttonLabel='Log in'>\n        <LoginForm\n          username={username}\n          password={password}\n          handleUsernameChange={({ target }) => setUsername(target.value)}\n          handlePasswordChange={({ target }) => setPassword(target.value)}\n          handleSubmit={handleLogin}\n        />\n      </Togglable>\n    )\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedAppUser', JSON.stringify(user)\n      ) \n\n      noteService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('käyttäjätunnus tai salasana virheellinen')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  /* React's ref-mechanism can collect data of the component's \"state\" */\n  const noteFormRef = React.createRef()\n\n  const noteForm = () => (\n    /* Toggle the note creation form */\n    <Togglable buttonLabel=\"Add note\" ref={noteFormRef}>\n      <NoteForm\n        onSubmit={addNote}\n        time={time}\n        day={day}\n        content={content}\n        handleTimeChange={({ target }) => setTime(target.value)}\n        handleDayChange={({ target }) => setDay(target.value)}\n        handleContentChange={({ target }) => setContent(target.value)}\n        handleSubmit={handleNoteChange}\n      />\n    </Togglable>\n  )\n\n  const logOut = async (event) => {\n    /* Log out and refresh */\n    event.preventDefault();\n    window.localStorage.clear();\n    window.location.reload();\n  }\n\n  // Returns the ISO week of the date.\n  const getNumberOfWeek = () => {\n    const today = new Date();\n    const firstDayOfYear = new Date(today.getFullYear(), 0, 1);\n    const pastDaysOfYear = (today - firstDayOfYear) / 86400000;\n    return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);\n  }\n\n\n  return (\n    <div>\n      \n      <h1>Bullet journal week {getNumberOfWeek()}</h1>\n\n      <Notification message={errorMessage} />\n\n      {user === null ?\n        <div className=\"login-container\">{loginForm()}</div> :\n        <div>\n          <div className=\"menu\">\n            <p>{user.name} is logged in</p>\n            <button onClick={logOut}>Log Out</button>\n          </div>\n            {noteForm()}\n          <div>\n            <button onClick={() => setShowAll(!showAll)}>\n              Show {showAll ? 'only events' : 'all'}\n            </button>\n          </div>\n          <div className=\"days-container\">\n            {days()}\n          </div>\n        </div>\n      }\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}